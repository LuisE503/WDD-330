<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout - SleepOutside</title>
  <meta name="description" content="Complete your purchase at SleepOutside.">
  <link rel="stylesheet" href="src/css/base.css">
  <link rel="stylesheet" href="src/css/site.css">
  <link rel="stylesheet" href="src/css/checkout.css">
</head>
<body>
  <header id="main-header">
    <!-- Header injected by header.js -->
  </header>

  <div id="breadcrumb-container">
    <!-- Breadcrumbs injected by breadcrumbs.js -->
  </div>

  <main>
    <div class="checkout-container">
      <h1>Checkout</h1>
      
      <!-- Order Summary -->
      <div class="checkout-layout">
        <section class="checkout-form">
          <form id="checkout-form" novalidate>
            
            <!-- Shipping Information -->
            <fieldset class="form-section">
              <legend>Shipping Information</legend>
              
              <div class="form-group">
                <label for="fname">First Name *</label>
                <input 
                  type="text" 
                  id="fname" 
                  name="fname" 
                  required 
                  minlength="2"
                  aria-required="true"
                />
                <span class="error-message" aria-live="polite"></span>
              </div>

              <div class="form-group">
                <label for="lname">Last Name *</label>
                <input 
                  type="text" 
                  id="lname" 
                  name="lname" 
                  required 
                  minlength="2"
                  aria-required="true"
                />
                <span class="error-message" aria-live="polite"></span>
              </div>

              <div class="form-group">
                <label for="street">Street Address *</label>
                <input 
                  type="text" 
                  id="street" 
                  name="street" 
                  required
                  aria-required="true"
                />
                <span class="error-message" aria-live="polite"></span>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="city">City *</label>
                  <input 
                    type="text" 
                    id="city" 
                    name="city" 
                    required
                    aria-required="true"
                  />
                  <span class="error-message" aria-live="polite"></span>
                </div>

                <div class="form-group">
                  <label for="state">State *</label>
                  <input 
                    type="text" 
                    id="state" 
                    name="state" 
                    required
                    maxlength="2"
                    pattern="[A-Za-z]{2}"
                    placeholder="CA"
                    aria-required="true"
                  />
                  <span class="error-message" aria-live="polite"></span>
                </div>

                <div class="form-group">
                  <label for="zip">ZIP Code *</label>
                  <input 
                    type="text" 
                    id="zip" 
                    name="zip" 
                    required
                    pattern="[0-9]{5}"
                    placeholder="12345"
                    aria-required="true"
                  />
                  <span class="error-message" aria-live="polite"></span>
                </div>
              </div>
            </fieldset>

            <!-- Payment Information -->
            <fieldset class="form-section">
              <legend>Payment Information</legend>

              <div class="form-group">
                <label for="cardNumber">Card Number *</label>
                <input 
                  type="text" 
                  id="cardNumber" 
                  name="cardNumber" 
                  required
                  pattern="[0-9]{13,19}"
                  placeholder="1234 5678 9012 3456"
                  maxlength="19"
                  aria-required="true"
                />
                <span class="error-message" aria-live="polite"></span>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="expiration">Expiration (MM/YY) *</label>
                  <input 
                    type="text" 
                    id="expiration" 
                    name="expiration" 
                    required
                    pattern="(0[1-9]|1[0-2])\/[0-9]{2}"
                    placeholder="MM/YY"
                    maxlength="5"
                    aria-required="true"
                  />
                  <span class="error-message" aria-live="polite"></span>
                </div>

                <div class="form-group">
                  <label for="code">Security Code *</label>
                  <input 
                    type="text" 
                    id="code" 
                    name="code" 
                    required
                    pattern="[0-9]{3,4}"
                    placeholder="123"
                    maxlength="4"
                    aria-required="true"
                  />
                  <span class="error-message" aria-live="polite"></span>
                </div>
              </div>
            </fieldset>

            <button type="submit" class="btn btn-primary btn-checkout" id="submit-order">
              Complete Purchase
            </button>
          </form>
        </section>

        <aside class="order-summary">
          <h2>Order Summary</h2>
          
          <div id="order-items">
            <!-- Items will be rendered here -->
          </div>

          <div class="order-totals">
            <div class="total-row">
              <span>Subtotal:</span>
              <span id="subtotal">$0.00</span>
            </div>
            <div class="total-row">
              <span>Shipping:</span>
              <span id="shipping">$0.00</span>
            </div>
            <div class="total-row">
              <span>Tax (7%):</span>
              <span id="tax">$0.00</span>
            </div>
            <div class="total-row total-final">
              <span>Total:</span>
              <span id="order-total">$0.00</span>
            </div>
          </div>
        </aside>
      </div>
    </div>
  </main>

  <footer id="main-footer">
    <!-- Footer injected by footer.js -->
  </footer>

  <!-- Alert container for notifications -->
  <div id="alert-container" class="alert-container"></div>

  <!-- Loading overlay -->
  <div id="loading-overlay" class="loading-overlay" style="display: none;">
    <div class="loading-spinner">
      <div class="spinner"></div>
      <p>Processing your order...</p>
    </div>
  </div>

  <script type="module" src="src/js/header.js"></script>
  <script type="module" src="src/js/footer.js"></script>
  <script type="module" src="src/js/breadcrumbs.js"></script>
  <script type="module" src="src/js/checkout.js"></script>
</body>
</html>
